---
name: doc-mindmap
description: æ–‡æ¡£æ™ºèƒ½æ•´ç†åŠ©æ‰‹ - æ‰¹é‡è½¬æ¢åŠå…¬æ–‡æ¡£ä¸º Markdownï¼Œæœ¬åœ°æ¨¡å‹ç”Ÿæˆæ‘˜è¦ï¼Œä¸‰ç»´åº¦è½¯é“¾æ¥åˆ†ç±»
---

# Doc Mindmap - æ–‡æ¡£æ™ºèƒ½æ•´ç†åŠ©æ‰‹ ğŸ“šğŸ§ 

å°†æ•£è½çš„åŠå…¬æ–‡æ¡£ï¼ˆPDFã€PPTã€Wordã€Excel ç­‰ï¼‰æ‰¹é‡è½¬æ¢ä¸º Markdownï¼Œé€šè¿‡æœ¬åœ° Ollama æ¨¡å‹ç”Ÿæˆæ‘˜è¦å’Œä¸‰ç»´åº¦åˆ†ç±»ï¼Œç”¨è½¯é“¾æ¥åŒæ—¶å‘ˆç°å¤šç§åˆ†ç±»æ–¹æ¡ˆï¼Œé›¶é¢å¤–ç£ç›˜å ç”¨ã€‚

## When to Use

Use this skill when users:
- æƒ³æ•´ç†å¤§é‡æ–‡æ¡£ã€åˆ†ç±»å½’æ¡£
- éœ€è¦ç»™ä¸€æ‰¹æ–‡æ¡£ç”Ÿæˆæ‘˜è¦
- æƒ³ç”Ÿæˆæ–‡æ¡£çš„æ€ç»´å¯¼å›¾ / mindmap
- æƒ³æŠŠ PDFã€PPTã€Word è½¬æˆ Markdown
- éœ€è¦æ–‡æ¡£åˆ†ç±»å»ºè®®æˆ–ç›®å½•ç»“æ„æ–¹æ¡ˆ
- æƒ³å¿«é€Ÿäº†è§£ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œéƒ½æœ‰ä»€ä¹ˆæ–‡æ¡£
- éœ€è¦æ£€æµ‹é‡å¤æ–‡ä»¶

è§¦å‘å…³é”®è¯: æ–‡æ¡£æ•´ç†, æ–‡æ¡£åˆ†ç±», æ€ç»´å¯¼å›¾, mindmap, æ–‡æ¡£æ‘˜è¦, PDF è½¬ Markdown, æ‰¹é‡è½¬æ¢, æ–‡æ¡£å½’æ¡£

## Features

- **ğŸ”„ æ‰¹é‡è½¬æ¢** - PDFã€PPTã€Wordã€Excel ç­‰ä¸€é”®è½¬ Markdown
- **ğŸ“‹ CSV ç´¢å¼•** - è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ç´¢å¼•ï¼Œå« MD5 å’Œé‡å¤æ£€æµ‹
- **ğŸ” é‡å¤æ£€æµ‹** - MD5 æ¯”å¯¹å‘ç°é‡å¤æ–‡ä»¶ï¼Œå»ºè®®åˆ é™¤é‡Šæ”¾ç©ºé—´
- **ğŸ“ æœ¬åœ°æ‘˜è¦** - Ollama æœ¬åœ°æ¨¡å‹ç”Ÿæˆæ‘˜è¦ï¼Œä¸æ¶ˆè€— Claude ä¸Šä¸‹æ–‡
- **ğŸ—‚ï¸ ä¸‰ç»´åº¦åˆ†ç±»** - æŒ‰ä¸»é¢˜/ç”¨é€”/å®¢æˆ·ä¸‰ç§æ–¹æ¡ˆåŒæ—¶åˆ†ç±»
- **ğŸ”— è½¯é“¾æ¥ç›®å½•** - symlink å®ç°å¤šåˆ†ç±»å…±å­˜ï¼Œé›¶é¢å¤–ç£ç›˜å ç”¨
- **âœï¸ æ™ºèƒ½é‡å‘½å** - AI æ ¹æ®å†…å®¹å»ºè®®æ›´æ¸…æ™°çš„æ–‡ä»¶åï¼Œè½¯é“¾æ¥å¯é€‰ç”¨ä¼˜åŒ–åç§°
- **ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶** - åªè¯»è½¬æ¢ï¼Œä¸ä¿®æ”¹åŸå§‹æ–‡ä»¶

## Supported Formats

| æ ¼å¼ | æ‰©å±•å | è¯´æ˜ |
|------|--------|------|
| ğŸ“„ PDF | .pdf | PDF æ–‡æ¡£ |
| ğŸ“Š PPT | .pptx | PowerPoint æ¼”ç¤ºæ–‡ç¨¿ |
| ğŸ“ Word | .docx | Word æ–‡æ¡£ |
| ğŸ“ˆ Excel | .xlsx, .xls | ç”µå­è¡¨æ ¼ |
| ğŸ“ˆ CSV | .csv | é€—å·åˆ†éš”å€¼ |
| ğŸŒ HTML | .html, .htm | ç½‘é¡µ |
| ğŸ“š EPUB | .epub | ç”µå­ä¹¦ |
| ğŸ“‹ JSON | .json | JSON æ•°æ® |
| ğŸ“‹ XML | .xml | XML æ•°æ® |

## Usage

### é¢„è§ˆæ–‡æ¡£åˆ—è¡¨ï¼ˆå«é‡å¤æ£€æµ‹ï¼‰

```bash
python scripts/doc_converter.py ~/Documents/reports --preview
```

### æ‰§è¡Œè½¬æ¢

```bash
python scripts/doc_converter.py ~/Documents/reports --convert --confirm
```

### è½¬æ¢æŒ‡å®šæ–‡ä»¶

```bash
python scripts/doc_converter.py file1.pdf file2.pptx --convert --confirm
```

### ç”Ÿæˆæ‘˜è¦ï¼ˆéœ€å…ˆè½¬æ¢ï¼‰

```bash
python scripts/doc_converter.py ~/Documents/reports --summarize
python scripts/doc_converter.py ~/Documents/reports --summarize --model qwen3:8b
```

### ä¸‰ç»´åº¦åˆ†ç±» + è½¯é“¾æ¥ï¼ˆéœ€å…ˆæ‘˜è¦ï¼‰

```bash
python scripts/doc_converter.py ~/Documents/reports --organize
```

### åˆ†ç±» + ä½¿ç”¨ AI å»ºè®®çš„æ–‡ä»¶å

```bash
python scripts/doc_converter.py ~/Documents/reports --organize --rename
```

### å…¨æµç¨‹ä¸€æ­¥å®Œæˆ

```bash
python scripts/doc_converter.py ~/Documents/reports --convert --confirm --summarize --organize
# å«ä¼˜åŒ–æ–‡ä»¶å
python scripts/doc_converter.py ~/Documents/reports --convert --confirm --summarize --organize --rename
```

### JSON æ ¼å¼è¾“å‡º

```bash
python scripts/doc_converter.py ~/Documents --preview --json
```

## Arguments

| å‚æ•° | è¯´æ˜ |
|------|------|
| `paths` | æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ï¼ˆæ”¯æŒå¤šä¸ªï¼‰ |
| `--preview` | é¢„è§ˆæ¨¡å¼ï¼Œåˆ—å‡ºæ–‡æ¡£ + é‡å¤æ£€æµ‹ |
| `--convert` | æ‰§è¡Œæ‰¹é‡è½¬æ¢ï¼ˆè‡ªåŠ¨è·³è¿‡é‡å¤æ–‡ä»¶ï¼‰ |
| `--summarize` | ä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹ç”Ÿæˆæ‘˜è¦ï¼ˆéœ€å…ˆ convertï¼‰ |
| `--organize` | ä¸‰ç»´åº¦åˆ†ç±»å¹¶ç”Ÿæˆè½¯é“¾æ¥ç›®å½•ï¼ˆéœ€å…ˆ summarizeï¼‰ |
| `--rename` | è½¯é“¾æ¥ä½¿ç”¨ AI å»ºè®®çš„ä¼˜åŒ–æ–‡ä»¶åï¼ˆé…åˆ --organizeï¼‰ |
| `--model MODEL` | Ollama æ¨¡å‹åç§°ï¼ˆé»˜è®¤: qwen2.5:3bï¼‰ |
| `--confirm` | ç¡®è®¤æ‰§è¡Œï¼ˆå®‰å…¨æœºåˆ¶ï¼‰ |
| `--json` | JSON æ ¼å¼è¾“å‡º |

## Output Structure

è½¬æ¢è¾“å‡ºåœ¨æºæ–‡ä»¶å¤¹çš„ `.summaries/` éšè—ç›®å½•ä¸‹ï¼š

```
{source}/
â””â”€â”€ .summaries/
    â”œâ”€â”€ converted/              # markitdown è½¬æ¢çš„ .md æ–‡ä»¶
    â”‚   â”œâ”€â”€ report.pdf.md
    â”‚   â”œâ”€â”€ slides.pptx.md
    â”‚   â””â”€â”€ data.xlsx.md
    â”œâ”€â”€ briefs/                 # Ollama ç”Ÿæˆçš„æ‘˜è¦
    â”‚   â”œâ”€â”€ report.pdf.brief.md
    â”‚   â”œâ”€â”€ slides.pptx.brief.md
    â”‚   â””â”€â”€ data.xlsx.brief.md
    â”œâ”€â”€ schemes/                # è½¯é“¾æ¥åˆ†ç±»ç›®å½•
    â”‚   â”œâ”€â”€ by-topic/           # æŒ‰ä¸»é¢˜åˆ†ç±»
    â”‚   â”‚   â”œâ”€â”€ AIæŠ€æœ¯/
    â”‚   â”‚   â”‚   â””â”€â”€ AIé©±åŠ¨äº§å“ç®¡ç†æŒ‡å—.pptx -> ../../../../slides.pptx  # --rename
    â”‚   â”‚   â””â”€â”€ æ•°æ®æ²»ç†/
    â”‚   â”‚       â””â”€â”€ Cç«¯æ•°æ®æ²»ç†è§„åˆ’.pdf -> ../../../../report.pdf       # --rename
    â”‚   â”œâ”€â”€ by-usage/           # æŒ‰ç”¨é€”åˆ†ç±»
    â”‚   â”‚   â”œâ”€â”€ åŸ¹è®­ææ–™/
    â”‚   â”‚   â””â”€â”€ å®¢æˆ·äº¤ä»˜æ–¹æ¡ˆ/
    â”‚   â””â”€â”€ by-client/          # æŒ‰å®¢æˆ·åˆ†ç±»
    â”‚       â”œâ”€â”€ æ²ƒå°”æ²ƒ/
    â”‚       â””â”€â”€ é€šç”¨æ–¹æ¡ˆ/
    â”œâ”€â”€ mindmap.md              # Claude ç”Ÿæˆçš„æ€ç»´å¯¼å›¾åˆ†ç±»
    â””â”€â”€ index.csv               # è½¬æ¢ç´¢å¼•ï¼ˆå« MD5ã€é‡å¤æ ‡è®°ï¼‰
```

## Dependencies

- Python 3.10+
- markitdown: `pip install 'markitdown[all]'`
- Ollamaï¼ˆæ‘˜è¦ + åˆ†ç±»ï¼‰: `brew install ollama` + `ollama pull qwen2.5:3b`
- requests: `pip install requests`

## Claude Workflow

Claude ä½¿ç”¨æ­¤æŠ€èƒ½æ—¶ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ‰§è¡Œï¼š

### ç¬¬ 1 æ­¥ï¼šé¢„è§ˆæ–‡æ¡£

è¿è¡Œé¢„è§ˆå‘½ä»¤ï¼Œå‘ç”¨æˆ·å±•ç¤ºæ–‡æ¡£åˆ—è¡¨å’Œé‡å¤æ£€æµ‹ç»“æœï¼š

```bash
python doc-mindmap/scripts/doc_converter.py <è·¯å¾„> --preview
```

å‘ŠçŸ¥ç”¨æˆ·æ‰¾åˆ°çš„æ–‡æ¡£æ•°é‡ã€ç±»å‹åˆ†å¸ƒã€æ€»å¤§å°å’Œé‡å¤æ–‡ä»¶æƒ…å†µï¼Œç­‰å¾…ç¡®è®¤ã€‚

### ç¬¬ 2 æ­¥ï¼šæ‰§è¡Œè½¬æ¢

ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œè½¬æ¢ï¼ˆé‡å¤æ–‡ä»¶è‡ªåŠ¨è·³è¿‡ï¼‰ï¼š

```bash
python doc-mindmap/scripts/doc_converter.py <è·¯å¾„> --convert --confirm
```

### ç¬¬ 3 æ­¥ï¼šç”Ÿæˆæ‘˜è¦ï¼ˆOllama æœ¬åœ°æ¨¡å‹ï¼‰

ä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹ä¸ºæ¯ä¸ªæ–‡æ¡£ç”Ÿæˆæ‘˜è¦ï¼Œä¸æ¶ˆè€— Claude ä¸Šä¸‹æ–‡çª—å£ï¼š

```bash
python doc-mindmap/scripts/doc_converter.py <è·¯å¾„> --summarize
```

ä¹Ÿå¯ä»¥å’Œ convert ä¸€èµ·æ‰§è¡Œï¼š
```bash
python doc-mindmap/scripts/doc_converter.py <è·¯å¾„> --convert --confirm --summarize
```

### ç¬¬ 4 æ­¥ï¼šä¸‰ç»´åº¦åˆ†ç±» + è½¯é“¾æ¥

ä½¿ç”¨ Ollama å¯¹æ¯ä¸ªæ–‡æ¡£è¿›è¡Œä¸‰ç»´åº¦åˆ†ç±»ï¼ˆä¸»é¢˜/ç”¨é€”/å®¢æˆ·ï¼‰ï¼ŒåŒæ—¶ä¸ºæ¯ä¸ªæ–‡æ¡£å»ºè®®æ›´æ¸…æ™°çš„æ–‡ä»¶åï¼š

```bash
# å…ˆä¸å¸¦ --rename è¿è¡Œï¼Œå±•ç¤ºåˆ†ç±»ç»“æœå’Œå»ºè®®æ–‡ä»¶å
python doc-mindmap/scripts/doc_converter.py <è·¯å¾„> --organize
```

å‘ç”¨æˆ·å±•ç¤ºåˆ†ç±»ç»“æœå’Œ AI å»ºè®®çš„æ–‡ä»¶åï¼Œè¯¢é—®æ˜¯å¦ä½¿ç”¨ä¼˜åŒ–æ–‡ä»¶åã€‚å¦‚æœç”¨æˆ·åŒæ„ï¼š

```bash
python doc-mindmap/scripts/doc_converter.py <è·¯å¾„> --organize --rename
```

ä¸‰å¥—åˆ†ç±»æ–¹æ¡ˆé€šè¿‡è½¯é“¾æ¥åŒæ—¶å­˜åœ¨äº `.summaries/schemes/` ä¸‹ï¼Œé›¶é¢å¤–ç£ç›˜å ç”¨ã€‚`--rename` ä»…å½±å“è½¯é“¾æ¥åç§°ï¼Œä¸ä¿®æ”¹åŸå§‹æ–‡ä»¶ã€‚

### ç¬¬ 5 æ­¥ï¼šé¢„è§ˆåˆ†ç±»ç»“æœ

è¯¢é—®ç”¨æˆ·æ˜¯å¦è¦åœ¨ Finder ä¸­é¢„è§ˆåˆ†ç±»ç›®å½•ã€‚å¦‚æœç”¨æˆ·åŒæ„ï¼š

1. å°† schemes ç›®å½•å¤åˆ¶åˆ°æ¡Œé¢ï¼ˆä¿ç•™è½¯é“¾æ¥ï¼‰ï¼š
```bash
cp -a <.summaries/schemes> ~/Desktop/æ–‡æ¡£åˆ†ç±»-$(date +%Y%m%d)
```

2. ç”¨ Finder æ‰“å¼€ï¼š
```bash
open ~/Desktop/æ–‡æ¡£åˆ†ç±»-$(date +%Y%m%d)
```

ç”¨æˆ·å¯ä»¥åœ¨ Finder ä¸­ç›´è§‚æµè§ˆä¸‰ç§åˆ†ç±»æ–¹æ¡ˆï¼ŒåŒå‡»è½¯é“¾æ¥å³å¯æ‰“å¼€åŸå§‹æ–‡ä»¶ã€‚

### ç¬¬ 6 æ­¥ï¼šç”Ÿæˆæ€ç»´å¯¼å›¾

è¯»å– `.summaries/briefs/` ä¸‹çš„æ‘˜è¦æ–‡ä»¶ï¼Œç”Ÿæˆ `.summaries/mindmap.md` æ€ç»´å¯¼å›¾åˆ†ç±»æ–‡ä»¶ã€‚

### ç¬¬ 7 æ­¥ï¼šå±•ç¤ºç»“æœ

å‘ç”¨æˆ·å±•ç¤ºï¼š
1. è½¬æ¢ç»Ÿè®¡ï¼ˆæˆåŠŸ/å¤±è´¥/è·³è¿‡é‡å¤ï¼‰
2. é‡å¤æ–‡ä»¶åˆ—è¡¨åŠåˆ é™¤å»ºè®®
3. ä¸‰ç»´åº¦åˆ†ç±»æ¦‚è§ˆ
4. æ€ç»´å¯¼å›¾åˆ†ç±»é¢„è§ˆ

## Credits

- [markitdown](https://github.com/microsoft/markitdown) - Microsoft å‡ºå“çš„æ–‡æ¡£è½¬ Markdown å·¥å…·
- [Ollama](https://ollama.com/) - æœ¬åœ° LLM è¿è¡Œæ¡†æ¶
- ä¸ [file-organizer](../file-organizer/) é…åˆä½¿ç”¨ï¼Œå…ˆåˆ†ç±»å†æ•´ç†
